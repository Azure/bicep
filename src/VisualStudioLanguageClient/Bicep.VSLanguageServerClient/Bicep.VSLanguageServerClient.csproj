<Project Sdk="Microsoft.NET.Sdk">

	<PropertyGroup>
		<AssemblyName>Azure.Bicep.VSLanguageServerClient</AssemblyName>
		<RootNamespace>Bicep.VSLanguageServerClient</RootNamespace>
		<EnableNuget>true</EnableNuget>
		<PackageTags>Azure;ResourceManager;ARM;Deployments;Templates;Bicep</PackageTags>
		<Description>Bicep VS Language Server Client</Description>
		<TargetFramework>net472</TargetFramework>
	</PropertyGroup>

	<ItemGroup>
		<PackageReference Include="Microsoft.VisualStudio.Composition" Version="17.2.41" />
		<PackageReference Include="Microsoft.VisualStudio.CoreUtility" Version="17.2.3194" />
		<PackageReference Include="Microsoft.VisualStudio.LanguageServer.Client" Version="17.2.2105" />
		<PackageReference Include="Microsoft.VisualStudio.LanguageServer.Protocol" Version="17.1.8" />
		<PackageReference Include="Microsoft.VisualStudio.Utilities" Version="17.2.32505.113" />
		<PackageReference Include="OmniSharp.Extensions.LanguageServer" Version="0.19.5" />
		<PackageReference Include="Microsoft.VisualStudio.Threading" Version="17.2.32" />
	</ItemGroup>

	<Target Name="CopyBicepLangServerExeToOutDir" AfterTargets="AfterBuild">
		<ItemGroup>
			<BicepLangServerExePath Include="..\..\Bicep.LangServer\**\Bicep.LangServer.exe" />
		</ItemGroup>
		<Copy SourceFiles="@(BicepLangServerExePath)" DestinationFolder="$(OutDir)" />
	</Target>

</Project>
